<div class="col-md-6 col-md-offset-3">
  <h2>Register</h2>
  <form name="form" (ngSubmit)="f.form.valid && register()" #f="ngForm" novalidate>
    <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !username.valid }">
      <label for="username">Username</label>
      <input type="text" class="form-control" name="username" [(ngModel)]="model.username"
             #username="ngModel" minlength="4" maxlength="24" required />
      <div *ngIf="f.submitted && !username.valid" class="help-block">Username is required</div>
      <div *ngIf="username.touched" class="help-block">touched</div>
      <div *ngIf="username.dirty" class="help-block">dirty</div>
      <div *ngIf="username.invalid" class="help-block">invalid</div>
      <div *ngIf="username.errors">
        <div *ngIf="username.errors.minlength" class="help-block">should more than 4</div>
      </div>
    </div>
    <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !password.valid }">
      <label for="password">Password</label>
      <input type="password" class="form-control" name="password" [(ngModel)]="model.password" #password="ngModel" required />
      <div *ngIf="f.submitted && !password.valid" class="help-block">Password is required</div>
    </div>
    <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !phone.valid }">
      <label for="phone">phone</label>
      <input type="text" class="form-control" name="phone" [(ngModel)]="model.phone" #phone="ngModel" required pattern="^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$" />
      <div *ngIf="f.submitted && !phone.valid" class="help-block">phone is required</div>
      <div *ngIf="phone.errors">
        <div *ngIf="phone.errors.pattern" class="help-block">not a phone number</div>
      </div>
    </div>
    <div class="form-group">
      <button class="btn btn-primary">Register</button>
    </div>
  </form>
</div>
